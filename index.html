<script>
  // –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –º—ã –≤ Telegram
  const tg = window.Telegram?.WebApp;

  const card = document.querySelector('.card');

  if (!tg) {
    // –ï—Å–ª–∏ –Ω–µ Telegram ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
    card.innerHTML = '<h2 style="color:white; padding:20px;">–û—Ç–∫—Ä–æ–π—Ç–µ —ç—Ç–æ—Ç –º–∏–Ω–∏-—ç–ø–ø —á–µ—Ä–µ–∑ Telegram</h2>';
  } else {
    tg.expand();

    // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    const me = tg.initDataUnsafe?.user;

    if (!me) {
      card.innerHTML = '<h2 style="color:white; padding:20px;">–û—à–∏–±–∫–∞: –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å</h2>';
    } else {
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–º—è –∏ –∞–≤–∞—Ç–∞—Ä
      card.innerHTML = `
        <img src="${me.photo_url || ''}" 
             style="width:120px;height:120px;border-radius:50%;margin-bottom:15px;">
        <h2>${me.first_name}</h2>
      `;
    }

    // –ö–Ω–æ–ø–∫–∏
    window.like = function() { tg.showAlert('‚ù§Ô∏è –õ–∞–π–∫ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω'); }
    window.next = function() { tg.showAlert('–ê–Ω–∫–µ—Ç –±–æ–ª—å—à–µ –Ω–µ—Ç üò¢'); }
  }
</script>
